(this["webpackJsonpnew-app"]=this["webpackJsonpnew-app"]||[]).push([[0],{19:function(e,t,n){e.exports={myModal:"MyModal_myModal__2tyRE",myModalContent:"MyModal_myModalContent__1pOza",active:"MyModal_active__1l3mE"}},23:function(e,t,n){},34:function(e,t,n){e.exports={myBtn:"MyButton_myBtn__1rqi-","current-page":"MyButton_current-page__silee"}},35:function(e,t,n){e.exports={myInput:"MyInput_myInput__1bS5J"}},47:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(33),o=n.n(a),i=(n(47),n(23),n(39)),s=n(2),u=n(1),l=function(){return Object(u.jsx)("div",{children:"about page"})},j=n(3),b=n(18),O=n(10),d=n.n(O),p=n(12),f=n(9),h=n(42),v=n(34),x=n.n(v),m=["children"],g=function(e){var t=e.children,n=Object(h.a)(e,m);return Object(u.jsx)("button",Object(j.a)(Object(j.a)({},n),{},{className:x.a.myBtn,children:t}))},y=function(e){e.num;var t=e.post,n=e.remove;return Object(u.jsxs)("div",{className:"post",children:[Object(u.jsxs)("div",{className:"post-content",children:[Object(u.jsxs)("strong",{children:[t.id,". ",t.title]}),Object(u.jsx)("p",{children:t.body})]}),Object(u.jsx)("div",{className:"post-btns",children:Object(u.jsx)(g,{onClick:function(){return n(t)},children:"Remove"})})]})},_=function(e){var t=e.posts,n=e.remove;return t.length?Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{style:{textAlign:"center",marginTop:"15px"},children:"Posts list"}),t.map((function(e,t){return Object(u.jsx)(y,{remove:n,post:e,num:t+1},e.id)}))]}):Object(u.jsx)("h1",{style:{textAlign:"center"},children:"Posts weren't found"})},C=n(35),M=n.n(C),w=r.a.forwardRef((function(e,t){return Object(u.jsx)("input",Object(j.a)({ref:t,className:M.a.myInput},e))})),k=function(e){var t=e.create,n=Object(c.useState)({title:"",body:""}),r=Object(f.a)(n,2),a=r[0],o=r[1];return Object(u.jsxs)("form",{children:[Object(u.jsx)(w,{onChange:function(e){return o(Object(j.a)(Object(j.a)({},a),{},{title:e.target.value}))},value:a.title,type:"text",placeholder:"Post title"}),Object(u.jsx)(w,{value:a.body,onChange:function(e){return o(Object(j.a)(Object(j.a)({},a),{},{body:e.target.value}))},type:"text",placeholder:"Post description"}),Object(u.jsx)(g,{onClick:function(e){e.preventDefault();var n=Object(j.a)(Object(j.a)({},a),{},{id:Date.now()});t(n),o({title:"",body:""})},children:"Create post"})]})},S=function(e){var t=e.options,n=e.defaultValue,c=e.value,r=e.onChange;return Object(u.jsxs)("select",{value:c,onChange:function(e){return r(e.target.value)},children:[Object(u.jsx)("option",{disabled:!0,value:"",children:n}),t.map((function(e){return Object(u.jsx)("option",{value:e.value,children:e.name},e.value)}))]})},P=function(e){var t=e.filter,n=e.setFilter;return Object(u.jsxs)("div",{children:[Object(u.jsx)(w,{placeholder:"Search...",value:t.query,onChange:function(e){return n(Object(j.a)(Object(j.a)({},t),{},{query:e.target.value}))}}),Object(u.jsx)(S,{defaultValue:"Sort by",value:t.sort,options:[{value:"title",name:"title"},{value:"body",name:"body"}],onChange:function(e){return n(Object(j.a)(Object(j.a)({},t),{},{sort:e}))}})]})},N=n(19),A=function(e){var t=e.children,n=e.visible,c=e.setVisible,r=[N.myModal];return n&&r.push(N.active),Object(u.jsx)("div",{className:r.join(" "),onClick:function(){return c(!1)},children:Object(u.jsx)("div",{className:N.myModalContent,onClick:function(e){return e.stopPropagation()},children:t})})},B=function(e,t,n){var r=function(e,t){return Object(c.useMemo)((function(){return t?Object(b.a)(e).sort((function(e,n){return e[t].localeCompare(n[t])})):e}),[t,e])}(e,t);return Object(c.useMemo)((function(){return r.filter((function(e){return e.title.toLowerCase().includes(n)}))}),[n,r])},q=n(36),E=n(37),I=n(38),V=n.n(I),J=function(){function e(){Object(q.a)(this,e)}return Object(E.a)(e,null,[{key:"getAll",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:10,n=c.length>1&&void 0!==c[1]?c[1]:1,e.next=4,V.a.get("https://jsonplaceholder.typicode.com/posts?_limit=".concat(t,"&_page=").concat(n));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),R=function(e){var t=e.changePage,n=function(e){return Object(c.useMemo)((function(){for(var t=[],n=0;n<e;n++)t.push(n+1);return console.log(t),t}),[e])}(e.totalPages);return Object(u.jsx)("div",{style:{margin:25,textAlign:"center"},children:n.map((function(e){return Object(u.jsx)(g,{onClick:function(){return t(e)},children:e},e)}))})},D=function(){var e=Object(c.useState)([]),t=Object(f.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)({sort:"",query:""}),o=Object(f.a)(a,2),i=o[0],s=o[1],l=Object(c.useState)(!1),O=Object(f.a)(l,2),h=O[0],v=O[1],x=B(n,i.sort,i.query),m=function(e){var t=Object(c.useState)(!1),n=Object(f.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(""),i=Object(f.a)(o,2),s=i[0],u=i[1],l=function(){var t=Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(!0),t.next=4,e();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),u(t.t0.message);case 9:return t.prev=9,a(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}();return[l,s,r]}(Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.getAll(D.limit,D.page);case 2:t=e.sent,r(t.data),E((n=t.headers["x-total-count"],c=D.limit,Math.ceil(n/c)));case 5:case"end":return e.stop()}var n,c}),e)})))),y=Object(f.a)(m,3),C=y[0],M=y[1],w=y[2],S=Object(c.useState)(0),N=Object(f.a)(S,2),q=N[0],E=N[1],I=Object(c.useState)({limit:10,page:1}),V=Object(f.a)(I,2),D=V[0],F=V[1];Object(c.useEffect)((function(){C()}),[D.page]);return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(g,{style:{marginTop:"30px"},onClick:function(){return v(!0)},children:"Create post"}),Object(u.jsx)(A,{visible:h,setVisible:v,children:Object(u.jsx)(k,{create:function(e){r([].concat(Object(b.a)(n),[e])),v(!1)}})}),Object(u.jsx)("br",{style:{margin:"15px"}}),Object(u.jsx)(P,{filter:i,setFilter:s}),M&&Object(u.jsxs)("h1",{children:["Error ",M]}),w?Object(u.jsx)("h1",{children:"Loading..."}):Object(u.jsx)(_,{posts:x,remove:function(e){r(n.filter((function(t){return t.id!==e.id})))}}),Object(u.jsx)(R,{changePage:function(e){F(Object(j.a)(Object(j.a)({},D),{},{page:e}))},totalPages:q})]})},F=function(){return Object(u.jsxs)(i.a,{children:[Object(u.jsx)(s.a,{path:"/about",children:Object(u.jsx)(l,{})}),Object(u.jsx)(s.a,{path:"/posts",children:Object(u.jsx)(D,{})})]})};o.a.render(Object(u.jsx)(F,{}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.b5468c36.chunk.js.map
{"version":3,"sources":["components/UI/modal/MyModal.module.css","components/UI/input/MyInput.module.css","components/UI/button/MyButton.module.css","pages/About.js","API/PostService.js","components/UI/input/MyInput.js","components/UI/select/MySelect.js","components/PostFilter.js","components/UI/button/MyButton.js","components/PostForm.js","components/PostItem.js","components/PostList.js","components/UI/modal/MyModal.js","components/UI/pagination/MyPagination.js","hooks/usePagination.js","hooks/usePosts.js","pages/Posts.js","hooks/useFetching.js","utils/pages.js","App.js","index.js"],"names":["module","exports","About","PostService","limit","page","axios","get","MyInput","React","forwardRef","props","ref","className","classes","myInput","MySelect","options","defaultValue","value","onChange","e","target","disabled","map","option","name","PostFilter","filter","setFilter","placeholder","query","sort","selectedSort","MyButton","children","myBtn","PostForm","create","useState","title","body","post","setPost","type","onClick","preventDefault","newPost","id","Date","now","PostItem","remove","PostList","posts","length","style","textAlign","marginTop","index","num","MyModal","visible","setVisible","rootClasses","myModal","push","active","join","myModalContent","stopPropagation","MyPagination","changePage","pagesArray","totalPages","useMemo","result","i","console","log","usePagination","margin","p","usePosts","sortedPosts","a","b","localeCompare","useSortedPosts","toLowerCase","includes","Posts","setPosts","modal","setModal","sortedAndSearchedPosts","callback","isLoading","setIsLoading","error","setError","fetching","message","useFetching","getAll","pagination","response","data","setTotalPages","totalCount","headers","Math","ceil","fetchPosts","postError","isPostsLoading","setPagination","useEffect","App","path","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fa7ed062.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"myModal\":\"MyModal_myModal__2tyRE\",\"myModalContent\":\"MyModal_myModalContent__1pOza\",\"active\":\"MyModal_active__1l3mE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myInput\":\"MyInput_myInput__1bS5J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myBtn\":\"MyButton_myBtn__1rqi-\",\"current-page\":\"MyButton_current-page__silee\"};","import React from 'react'\n\nconst About = () => {\n  return <div>About page TEST</div>\n}\n\nexport default About\n","import axios from 'axios'\n\nexport default class PostService {\n  static async getAll(limit = 10, page = 1) {\n    return await axios.get(`https://jsonplaceholder.typicode.com/posts?_limit=${limit}&_page=${page}`)\n  }\n}\n","import React from 'react'\n\nimport classes from './MyInput.module.css'\n\n// eslint-disable-next-line react/display-name\nconst MyInput = React.forwardRef((props, ref) => {\n  return <input ref={ref} className={classes.myInput} {...props} />\n})\n\nexport default MyInput\n","import React from 'react'\n\nconst MySelect = ({ options, defaultValue, value, onChange }) => {\n  return (\n    <select value={value} onChange={(e) => onChange(e.target.value)}>\n      <option disabled value={''}>\n        {defaultValue}\n      </option>\n      {options.map((option) => (\n        <option key={option.value} value={option.value}>\n          {option.name}\n        </option>\n      ))}\n    </select>\n  )\n}\n\nexport default MySelect\n","import React from 'react'\n\nimport MyInput from './UI/input/MyInput'\nimport MySelect from './UI/select/MySelect'\n\nconst PostFilter = ({ filter, setFilter }) => {\n  return (\n    <div>\n      <MyInput\n        placeholder=\"Search...\"\n        value={filter.query}\n        onChange={(e) => setFilter({ ...filter, query: e.target.value })}\n      />\n\n      <MySelect\n        defaultValue={'Sort by'}\n        value={filter.sort}\n        options={[\n          { value: 'title', name: 'title' },\n          { value: 'body', name: 'body' },\n        ]}\n        onChange={(selectedSort) => setFilter({ ...filter, sort: selectedSort })}\n      />\n    </div>\n  )\n}\n\nexport default PostFilter\n","import React from 'react'\n\nimport classes from './MyButton.module.css'\nconst MyButton = ({ children, ...props }) => {\n  return (\n    <button {...props} className={classes.myBtn}>\n      {children}\n    </button>\n  )\n}\n\nexport default MyButton\n","import React, { useState } from 'react'\n\nimport MyButton from './UI/button/MyButton'\nimport MyInput from './UI/input/MyInput'\n\nconst PostForm = ({ create }) => {\n  const [post, setPost] = useState({ title: '', body: '' })\n\n  const addNewPost = (e) => {\n    e.preventDefault()\n    const newPost = {\n      ...post,\n      id: Date.now(),\n    }\n    create(newPost)\n    setPost({ title: '', body: '' })\n  }\n\n  return (\n    <form>\n      <MyInput\n        onChange={(e) => setPost({ ...post, title: e.target.value })}\n        value={post.title}\n        type={'text'}\n        placeholder={'Post title'}\n      />\n      <MyInput\n        value={post.body}\n        onChange={(e) => setPost({ ...post, body: e.target.value })}\n        type={'text'}\n        placeholder={'Post description'}\n      />\n      <MyButton onClick={addNewPost}>Create post</MyButton>\n    </form>\n  )\n}\n\nexport default PostForm\n","import React from 'react'\n\nimport MyButton from './UI/button/MyButton'\n\nconst PostItem = ({ post, remove }) => {\n  return (\n    <div className={'post'}>\n      <div className={'post-content'}>\n        <strong>\n          {post.id}. {post.title}\n        </strong>\n        <p>{post.body}</p>\n      </div>\n      <div className={'post-btns'}>\n        <MyButton onClick={() => remove(post)}>Remove</MyButton>\n      </div>\n    </div>\n  )\n}\n\nexport default PostItem\n","import React from 'react'\n\nimport PostItem from './PostItem'\n\nconst PostList = ({ posts, remove }) => {\n  if (!posts.length) {\n    return <h1 style={{ textAlign: 'center' }}>Posts were not found</h1>\n  }\n  return (\n    <div>\n      <h1 style={{ textAlign: 'center', marginTop: '15px' }}>Posts list</h1>\n      {posts.map((post, index) => (\n        <PostItem remove={remove} post={post} num={index + 1} key={post.id} />\n      ))}\n    </div>\n  )\n}\n\nexport default PostList\n","import React from 'react'\n\nimport { myModalContent, myModal, active } from './MyModal.module.css'\nconst MyModal = ({ children, visible, setVisible }) => {\n  const rootClasses = [myModal]\n\n  if (visible) {\n    rootClasses.push(active)\n  }\n\n  return (\n    <div className={rootClasses.join(' ')} onClick={() => setVisible(false)}>\n      <div className={myModalContent} onClick={(e) => e.stopPropagation()}>\n        {children}\n      </div>\n    </div>\n  )\n}\n\nexport default MyModal\n","import React from 'react'\n\nimport { usePagination } from '../../../hooks/usePagination'\nimport MyButton from '../button/MyButton'\n\nconst MyPagination = ({ changePage, totalPages }) => {\n  let pagesArray = usePagination(totalPages)\n  return (\n    <div style={{ margin: 25, textAlign: 'center' }}>\n      {pagesArray.map((p) => (\n        <MyButton key={p} onClick={() => changePage(p)}>\n          {p}\n        </MyButton>\n      ))}\n    </div>\n  )\n}\n\nexport default MyPagination\n","import { useMemo } from 'react'\n\nexport const usePagination = (totalPages) => {\n  return useMemo(() => {\n    let result = []\n    for (let i = 0; i < totalPages; i++) {\n      result.push(i + 1)\n    }\n    console.log(result)\n    return result\n  }, [totalPages])\n}\n","import { useMemo } from 'react'\n\nexport const useSortedPosts = (posts, sort) => {\n  return useMemo(() => {\n    if (sort) {\n      return [...posts].sort((a, b) => a[sort].localeCompare(b[sort]))\n    }\n    return posts\n  }, [sort, posts])\n}\n\nexport const usePosts = (posts, sort, query) => {\n  const sortedPosts = useSortedPosts(posts, sort)\n  return useMemo(() => {\n    return sortedPosts.filter((post) => post.title.toLowerCase().includes(query))\n  }, [query, sortedPosts])\n}\n","import React, { useState, useEffect } from 'react'\n\nimport '../styles/App.css'\nimport PostService from '../API/PostService'\nimport PostFilter from '../components/PostFilter'\nimport PostForm from '../components/PostForm'\nimport PostList from '../components/PostList'\nimport MyButton from '../components/UI/button/MyButton'\nimport MyModal from '../components/UI/modal/MyModal'\nimport MyPagination from '../components/UI/pagination/MyPagination'\nimport { useFetching } from '../hooks/useFetching'\nimport { usePosts } from '../hooks/usePosts'\nimport { getPageCount } from '../utils/pages'\nconst Posts = () => {\n  const [posts, setPosts] = useState([])\n  const [filter, setFilter] = useState({ sort: '', query: '' })\n  const [modal, setModal] = useState(false)\n  const sortedAndSearchedPosts = usePosts(posts, filter.sort, filter.query)\n  const [fetchPosts, postError, isPostsLoading] = useFetching(async () => {\n    const response = await PostService.getAll(pagination.limit, pagination.page)\n    setPosts(response.data)\n    setTotalPages(getPageCount(response.headers['x-total-count'], pagination.limit))\n  })\n  const [totalPages, setTotalPages] = useState(0)\n  const [pagination, setPagination] = useState({ limit: 10, page: 1 })\n\n  useEffect(() => {\n    fetchPosts()\n  }, [pagination.page])\n\n  const createPost = (newPost) => {\n    setPosts([...posts, newPost])\n    setModal(false)\n  }\n\n  const removePost = (post) => {\n    setPosts(posts.filter((p) => p.id !== post.id))\n  }\n\n  const changePage = (page) => {\n    setPagination({ ...pagination, page: page })\n  }\n\n  return (\n    <div className={'App'}>\n      <MyButton style={{ marginTop: '30px' }} onClick={() => setModal(true)}>\n        Create post\n      </MyButton>\n\n      <MyModal visible={modal} setVisible={setModal}>\n        <PostForm create={createPost} />\n      </MyModal>\n\n      <br style={{ margin: '15px' }} />\n\n      <PostFilter filter={filter} setFilter={setFilter} />\n\n      {postError && <h1>Error {postError}</h1>}\n\n      {isPostsLoading ? <h1>Loading...</h1> : <PostList posts={sortedAndSearchedPosts} remove={removePost} />}\n\n      <MyPagination changePage={changePage} totalPages={totalPages} />\n    </div>\n  )\n}\n\nexport default Posts\n","import { useState } from 'react'\n\nexport const useFetching = (callback) => {\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState('')\n\n  const fetching = async () => {\n    try {\n      setIsLoading(true)\n      await callback()\n    } catch (e) {\n      setError(e.message)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return [fetching, error, isLoading]\n}\n","export const getPageCount = (totalCount, limit) => {\n  return Math.ceil(totalCount / limit)\n}\n","import React from 'react'\nimport './styles/App.css'\nimport { HashRouter, Route } from 'react-router-dom'\n\nimport About from './pages/About'\nimport Posts from './pages/Posts'\n\nconst App = () => {\n  return (\n    <HashRouter>\n      <Route path={'/about'}>\n        <About />\n      </Route>\n      <Route exact path={'/posts'}>\n        <Posts />\n      </Route>\n    </HashRouter>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}
{"version":3,"sources":["components/UI/modal/MyModal.module.css","components/UI/button/MyButton.module.css","components/UI/input/MyInput.module.css","pages/About.js","components/UI/button/MyButton.js","components/PostItem.js","components/PostList.js","components/UI/input/MyInput.js","components/PostForm.js","components/UI/select/MySelect.js","components/PostFilter.js","components/UI/modal/MyModal.js","hooks/usePosts.js","API/PostService.js","components/UI/pagination/MyPagination.js","hooks/usePagination.js","pages/Posts.js","hooks/useFetching.js","utils/pages.js","App.js","index.js"],"names":["module","exports","About","MyButton","children","props","className","classes","myBtn","PostItem","num","post","remove","id","title","body","onClick","PostList","posts","length","style","textAlign","marginTop","map","index","MyInput","React","forwardRef","ref","myInput","PostForm","create","useState","setPost","onChange","e","target","value","type","placeholder","preventDefault","newPost","Date","now","MySelect","options","defaultValue","disabled","option","name","PostFilter","filter","setFilter","query","sort","selectedSort","MyModal","visible","setVisible","rootClasses","myModal","push","active","join","myModalContent","stopPropagation","usePosts","sortedPosts","useMemo","a","b","localeCompare","useSortedPosts","toLowerCase","includes","PostService","limit","page","axios","get","MyPagination","changePage","pagesArray","totalPages","result","i","console","log","usePagination","margin","p","Posts","setPosts","modal","setModal","sortedAndSearchedPosts","callback","isLoading","setIsLoading","error","setError","fetching","message","useFetching","getAll","pagination","response","data","setTotalPages","totalCount","headers","Math","ceil","fetchPosts","postError","isPostsLoading","setPagination","useEffect","App","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b5468c36.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"myModal\":\"MyModal_myModal__2tyRE\",\"myModalContent\":\"MyModal_myModalContent__1pOza\",\"active\":\"MyModal_active__1l3mE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myBtn\":\"MyButton_myBtn__1rqi-\",\"current-page\":\"MyButton_current-page__silee\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myInput\":\"MyInput_myInput__1bS5J\"};","import React from 'react';\n\nconst About = () => {\n    return (\n        <div>\n            about page\n        </div>\n    );\n};\n\nexport default About;\n","import React from 'react';\nimport classes from './MyButton.module.css';\nconst MyButton = ({children, ...props}) => {\n    return (\n        <button {...props} className={classes.myBtn}>\n            {children}\n        </button>\n    );\n};\n\nexport default MyButton;\n","import React from 'react';\nimport MyButton from \"./UI/button/MyButton\";\n\nconst PostItem = ({num, post, remove}) => {\n    return (\n        <div className={'post'}>\n            <div className={'post-content'}>\n                <strong>{post.id}. {post.title}</strong>\n                <p>{post.body}</p>\n            </div>\n            <div className={'post-btns'}>\n                <MyButton onClick={() => remove(post)}>Remove</MyButton>\n            </div>\n        </div>\n    );\n};\n\nexport default PostItem;\n","import React from 'react';\nimport PostItem from \"./PostItem\";\n\nconst PostList = ({posts, remove}) => {\n    if (!posts.length) {\n        return (\n            <h1 style={{textAlign: 'center'}}>Posts weren't found</h1>\n        )\n    }\n    return (\n        <div>\n            <h1 style={{textAlign: 'center', marginTop: '15px'}}>\n                Posts list\n            </h1>\n            {posts.map((post, index) =>\n                <PostItem remove={remove} post={post} num={index + 1}  key={post.id}/>\n            )}\n        </div>\n    );\n};\n\nexport default PostList;\n","import React from 'react';\nimport classes from './MyInput.module.css';\n\nconst MyInput = React.forwardRef((props, ref) => {\n    return (\n        <input ref={ref} className={classes.myInput} {...props} />\n    );\n});\n\nexport default MyInput;\n","import React, {useState} from 'react';\nimport MyInput from \"./UI/input/MyInput\";\nimport MyButton from \"./UI/button/MyButton\";\n\nconst PostForm = ({create}) => {\n    const [post, setPost] = useState({title: '', body: ''});\n\n    const addNewPost = (e) => {\n        e.preventDefault();\n        const newPost = {\n            ...post, id: Date.now()\n        }\n        create(newPost);\n        setPost({title: '', body: ''});\n    }\n\n    return (\n        <form>\n            <MyInput\n                onChange={(e) => setPost({...post, title: e.target.value})}\n                value={post.title}\n                type={'text'}\n                placeholder={'Post title'}\n            />\n            <MyInput\n                value={post.body}\n                onChange={(e) => setPost({...post, body: e.target.value})}\n                type={'text'}\n                placeholder={'Post description'}\n            />\n            <MyButton onClick={addNewPost}>Create post</MyButton>\n        </form>\n    );\n};\n\nexport default PostForm;\n","import React from 'react';\n\nconst MySelect = ({options, defaultValue, value, onChange}) => {\n    return (\n        <select value={value}\n                onChange={e => onChange(e.target.value)}>\n            <option disabled value={''}>{defaultValue}</option>\n            {\n                options.map(option =>\n                    <option key={option.value} value={option.value}>\n                        {option.name}\n                    </option>\n                )\n            }\n        </select>\n    );\n};\n\nexport default MySelect;\n","import React from 'react';\nimport MyInput from \"./UI/input/MyInput\";\nimport MySelect from \"./UI/select/MySelect\";\n\nconst PostFilter = ({filter, setFilter}) => {\n    return (\n        <div>\n            <MyInput placeholder='Search...'\n                     value={filter.query}\n                     onChange={e => setFilter({...filter, query: e.target.value})}/>\n\n            <MySelect defaultValue={'Sort by'}\n                      value={filter.sort}\n                      options={[\n                          {value: 'title', name: 'title'},\n                          {value: 'body', name: 'body'}\n                      ]}\n                      onChange={selectedSort => setFilter({...filter, sort: selectedSort})}/>\n        </div>\n    );\n};\n\nexport default PostFilter;\n","import React from 'react';\nimport {myModalContent, myModal, active} from './MyModal.module.css';\nconst MyModal = ({children, visible, setVisible}) => {\n\n    const rootClasses = [myModal];\n\n    if (visible) {\n        rootClasses.push(active);\n    }\n\n    return (\n        <div className={rootClasses.join(' ')} onClick={() => setVisible(false)}>\n            <div className={myModalContent} onClick={e => e.stopPropagation()}>\n                {children}\n            </div>\n        </div>\n    );\n};\n\nexport default MyModal;\n","import {useMemo} from 'react';\n\nexport const useSortedPosts = (posts, sort) => {\n    return useMemo(() => {\n        if (sort) {\n            return [...posts].sort((a, b) => a[sort].localeCompare(b[sort]));\n        }\n        return posts\n    }, [sort, posts]);\n}\n\nexport const usePosts = (posts, sort, query) => {\n    const sortedPosts = useSortedPosts(posts, sort)\n    return useMemo(() => {\n        return sortedPosts\n            .filter(post => post.title.toLowerCase().includes(query));\n    }, [query, sortedPosts]);\n}\n","import axios from \"axios\";\n\nexport default class PostService {\n    static async getAll(limit = 10, page = 1) {\n        return await axios.get(`https://jsonplaceholder.typicode.com/posts?_limit=${limit}&_page=${page}`);\n    }\n}\n","import React from 'react';\nimport MyButton from \"../button/MyButton\";\nimport {usePagination} from \"../../../hooks/usePagination\";\n\nconst MyPagination = ({changePage, totalPages}) => {\n    let pagesArray = usePagination(totalPages);\n    return (\n        <div style={{margin: 25, textAlign: 'center'}}>\n            {pagesArray.map(p =>\n                <MyButton key={p}\n                          onClick={() => changePage(p)}>{p}</MyButton>)}\n        </div>\n    );\n};\n\nexport default MyPagination;\n","import {useMemo} from 'react';\n\nexport const usePagination = (totalPages) => {\n    return useMemo(() => {\n        let result = [];\n        for (let i = 0; i < totalPages; i++) {\n            result.push(i + 1);\n        }\n        console.log(result);\n        return result;\n    }, [totalPages]);\n}\n","import React, {useState, useEffect} from 'react';\nimport '../styles/App.css'\nimport PostList from \"../components/PostList\";\nimport PostForm from \"../components/PostForm\";\nimport PostFilter from \"../components/PostFilter\";\nimport MyModal from \"../components/UI/modal/MyModal\";\nimport MyButton from \"../components/UI/button/MyButton\";\nimport {usePosts} from \"../hooks/usePosts\";\nimport PostService from \"../API/PostService\";\nimport {useFetching} from \"../hooks/useFetching\";\nimport {getPageCount} from \"../utils/pages\";\nimport MyPagination from \"../components/UI/pagination/MyPagination\";\nconst Posts = () => {\n\n    const [posts, setPosts] = useState([]);\n    const [filter, setFilter] = useState({sort: '', query: ''});\n    const [modal, setModal] = useState(false);\n    const sortedAndSearchedPosts = usePosts(posts, filter.sort, filter.query);\n    const [fetchPosts, postError, isPostsLoading] = useFetching(async () => {\n        const response = await PostService.getAll(pagination.limit, pagination.page);\n        setPosts(response.data);\n        setTotalPages(getPageCount(response.headers['x-total-count'], pagination.limit));\n    });\n    const [totalPages, setTotalPages] = useState(0);\n    const [pagination, setPagination] = useState({limit: 10, page: 1});\n\n    useEffect(() => {\n        fetchPosts();\n    },[pagination.page]);\n\n\n\n    const createPost = (newPost) => {\n        setPosts([...posts, newPost]);\n        setModal(false);\n    }\n\n    const removePost = (post) => {\n        setPosts(posts.filter(p => p.id !== post.id));\n    }\n\n    const changePage = (page) => {\n        setPagination({...pagination, page: page});\n    }\n\n    return (\n        <div className={'App'}>\n\n            <MyButton style={{marginTop: '30px'}}\n                      onClick={() => setModal(true)}>\n                Create post\n            </MyButton>\n\n            <MyModal visible={modal}\n                     setVisible={setModal}>\n                <PostForm create={createPost}/>\n\n            </MyModal>\n\n            <br style={{margin: '15px'}}/>\n\n            <PostFilter filter={filter} setFilter={setFilter}/>\n\n            {postError && <h1>Error {postError}</h1>}\n\n            {isPostsLoading ? <h1>Loading...</h1> : <PostList posts={sortedAndSearchedPosts} remove={removePost}/>}\n\n            <MyPagination changePage={changePage} totalPages={totalPages}/>\n        </div>\n\n    );\n}\n\nexport default Posts;\n\n","import {useState} from \"react\";\n\nexport const useFetching = (callback) => {\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    const fetching = async () => {\n        try {\n            setIsLoading(true);\n            await callback();\n        } catch (e) {\n            setError(e.message);\n        } finally {\n            setIsLoading(false);\n        }\n    }\n\n    return [fetching, error, isLoading];\n}\n","export const getPageCount = (totalCount, limit) => {\n    return Math.ceil(totalCount / limit);\n}\n","import React from 'react';\nimport './styles/App.css';\nimport {HashRouter, Route} from \"react-router-dom\";\nimport About from \"./pages/About\";\nimport Posts from \"./pages/Posts\";\n\nconst App = () => {\n\n\n\n  return (\n      <HashRouter>\n          <Route path={'/about'}>\n              <About/>\n          </Route>\n          <Route path={'/posts'}>\n              <Posts />\n          </Route>\n      </HashRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}